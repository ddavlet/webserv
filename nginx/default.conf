# server {
#     listen	80;
#     # host	localhost;
#     server_name	mywebserv.com localhost;
#     root /usr/share/nginx/web;

#     client_max_body_size 8M;
#     client_body_timeout 20s;

#     error_page 400 /error/400.html;
#     error_page 404 /error/404.html;
#     error_page 405 /error/405.html;
#     error_page 408 /error/408.html;
#     error_page 413 /error/413.html;
#     error_page 414 /error/414.html;
#     error_page 418 /error/418.html;
#     error_page 500 /error/500.html;
#     error_page 503 /error/503.html;
#     error_page 505 /error/505.html;

#     location / {
#         allow all;
#         autoindex on;
#     }

    # location / {
    #     limit_except GET {}
    #     index index.html;
    #     autoindex off;
    # }

    # location /css/ {
    #     limit_except GET {}
    # }

    # location /js/ {
    #     limit_except GET {}
    # }

    # location /images/ {
    #     limit_except GET {}
    # }

    # location /data/ {
    #     limit_except GET {}
    # }

    # location /upload/ {
    #     allow all;
    #     limit_except GET POST DELETE {
    #         deny all;
    #     }
    # }

    # # use detailed logs
    # log_format detailed '$remote_addr - $remote_user [$time_local] '
    #                     '"$request" $status $body_bytes_sent '
    #                     '"$http_referer" "$http_user_agent" '
    #                     '$request_filename';

    # access_log /var/log/nginx/access.log detailed;
# }


    server {
        listen	80;
        # host	localhost;
        server_name	mywebserv.com localhost;
        root /usr/share/nginx/web;

        client_max_body_size 8M;
        client_body_timeout 20s;

        error_page 400 /error/400.html;
        error_page 404 /error/404.html;
        error_page 405 /error/405.html;
        error_page 408 /error/408.html;
        error_page 413 /error/413.html;
        error_page 414 /error/414.html;
        error_page 418 /error/418.html;
        error_page 500 /error/500.html;
        error_page 503 /error/503.html;
        error_page 505 /error/505.html;

        location / {
            allow all;
            autoindex on;
        }

        location /upload/files {
            root /usr/share/nginx/web;

            # Allow only POST requests
            limit_except GET POST {
                deny all;
            }

            # Increase timeouts for larger file uploads
            client_body_timeout 300s;

            # Set where to store the body
            client_body_temp_path /usr/share/nginx/web/upload/tmp;

            # Security headers
            add_header X-Frame-Options "SAMEORIGIN";
            add_header X-XSS-Protection "1; mode=block";
            add_header X-Content-Type-Options "nosniff";

            # You'll need a backend server to actually handle the file upload
            # For now, we'll just return a success message
            return 200 "File upload endpoint";
        }

        # Other location blocks and server configurations...
    }